-  name: Checkout and build application
   hosts: all
   
   tasks:
   - name: Show ansible facts
     debug: var=ansible_facts 

   - name: Create workspace directory
     file:
         path: "{{ destdir }}"
         state: directory     

   - name: Clean workspace directory
      file:
            path: "{{ destdir }}/"
            state: absent            

   - name: Checkout source code
     git:
        repo: '{{gitscheme}}://{{gituser}}:{{gitpass}}@{{giturl}}'
        dest: "{{ destdir }}"